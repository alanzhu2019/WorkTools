<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>排程数据</title>
    <!--引入vue.js-->
    <script src="js/vue.js"></script>

    <!--引入 element js css-->
    <link rel="stylesheet" href="element-ui/lib/theme-chalk/index.css">
    <script src="element-ui/lib/index.js"></script>
    <script src="js/axios-0.18.0.js"></script>
    <style>
        .el-table .warning-row {
            background: oldlace;
        }

        .el-table .success-row {
            background: #f0f9eb;
        }
    </style>
</head>
<body>

<div id="app">
    <template >
        <el-table
                :data="tableData"
                style="width: 100%"
                :row-class-name="tableRowClassName"
                highlight-current-row
                @current-change="handleCurrentChange"
                @selection-change="handleSelectionChange">
            <el-table-column
                    type="selection"
                    width="55"
                    label="全选">
            </el-table-column>
            <el-table-column
                    align="center"
                    prop="code"
                    label="排程">
            </el-table-column>
            <el-table-column
                    align="center"
                    prop="mo"
                    label="订单">
            </el-table-column>
            <el-table-column
                    align="center"
                    prop="charlinecode"
                    label="线体">
            </el-table-column>
            <el-table-column
                    align="center"
                    prop="materialcode"
                    label="物料">
            </el-table-column>
            <el-table-column label="操作">
                <template slot-scope="scope">
                    <el-button
                            size="mini"
                            @click="handleEdit(scope.$index, scope.row)">编辑</el-button>
                    <el-button
                            size="mini"
                            type="danger"
                            @click="handleDelete(scope.$index, scope.row)">删除</el-button>
                </template>
            </el-table-column>
        </el-table>
    </template>
</div>


</body>

<script>
    new Vue({
        el: "#app",
        data() {
            return {
                tableData: {},

                //     [{
                //     code: 'YDMW9211072A-001',
                //     mo: 'YDMW9211072A',
                //     charLineCode: 'WH_ASM013',
                //     materialCode:'SA78D21306',
                //
                // }]
                currentRow: null,
                multipleSelection: []
            }

        },
        methods: {
            tableRowClassName({row, rowIndex}) {
                if (rowIndex % 2 === 0) {
                    return '';
                } else{
                    return 'success-row';
                }
            },
            handleCurrentChange(val) {
                this.currentRow = val;
            },
            handleSelectionChange(val) {
                this.multipleSelection = val;
            }
        },

        mounted(){
            let _this = this
            axios({
                method: "get",
                url: "http://localhost/WorkTools/schedule/selectAll"
            }).then(function (resp) {
                _this.tableData = resp.data
            })
        }

    })

</script>
</html>